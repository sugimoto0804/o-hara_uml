@startuml BBショップ注文管理ドメインモデル（詳細版）
skinparam componentStyle rectangle
skinparam classAttributeIconSize 0
 
' 顧客エンティティ
class 顧客 {
  -顧客ID : String
  -氏名 : String
  -メールアドレス : String
  -電話番号 : String
  -住所 : String
  -登録日 : DateTime
  +登録()
  +情報更新()
  +退会()
}
 
' 商品エンティティ
class 商品 {
  -商品ID : String
  -商品名 : String
  -説明 : String
  -価格 : Decimal
  -在庫数 : Integer
  -カテゴリ : String
  +在庫更新()
  +価格更新()
  +商品情報取得()
  +商品検索()
  +商品追加()
  +商品削除()
  +商品更新()
}
 
' 注文エンティティ
class 注文 {
  -注文ID : String
  -注文日 : DateTime
  -合計金額 : Decimal
  -注文ステータス : Enum {新規, 処理中, 発送済, キャンセル}
  -配送方法 : Enum {宅配便, メール便, 店舗受取}
  -配送先住所 : String
  -配送予定日 : DateTime
  +注文作成()
  +注文キャンセル()
  +注文状況確認()
  +注文更新()
  +注文履歴取得()
  +注文検索()
  +注文処理()
  +注文完了()
  +注文発送()
  +注文返品()
  +注文返金()
  +注文配送情報更新()
  +注文ステータス更新()
}
 
' 注文明細エンティティ
class 注文明細 {
  -明細ID : String
  -商品ID : String
  -数量 : Integer
  -単価 : Decimal
  -小計 : Decimal
  +明細追加()
  +明細削除()
  +明細更新()
  +明細取得()
  +明細検索()
}
 
' 支払い情報エンティティ
class 支払い情報 {
  -支払いID : String
  -支払い方法 : Enum {クレジットカード}
  -支払いステータス : Enum {未払い, 支払い済, 返金済}
  -支払い日 : DateTime
  -カード番号 : String
  -取引番号 : String
  +支払い処理()
  +支払い確認()
  +支払い更新()
  +支払い履歴取得()
  +支払い検索()
  +支払いキャンセル()
  +支払い返金()
  +支払いステータス更新()
}
 
' 返品エンティティ
class 返品 {
  -返品ID : String
  -返品理由 : String
  -返品日 : DateTime
  -返金額 : Decimal
  -返品ステータス : Enum {申請中, 承認済, 完了}
  +返品申請()
  +返品承認()
  +返品完了()
  +返品履歴取得()
  +返品検索()
  +返品ステータス更新()
  +返品処理()
  +返品返金()
}
 
class カート {
  -カートID : String
  -顧客ID : String
  +商品追加()
  +商品削除()
  +カート内容確認()
  +カートクリア()
  +カート更新()
  +カート取得()
  +カート検索()
  +カート合計金額計算()
}
 
class 配送 {
  -配送ID : String
  -伝票番号 : String
  -発送日 : DateTime
  -発送ステータス : Enum {未発送, 発送済, 配達中, 配達完了}
  +配送ステータス更新()
  +発送登録()
}
 
' 関係
顧客 "1" -- "0..*" 注文 : places
注文 "1" -- "1..*" 注文明細 : includes
注文 "1" -- "1" 支払い情報 : has
注文明細 "1" -- "1" 商品 : refers to
返品 "0..1" -- "1" 注文明細 : applies to
注文 "1" -- "0..1" 配送 : has
顧客 "1" -- "1" カート : owns
 
@enduml